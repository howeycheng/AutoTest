(function(e){function t(t){for(var n,r,l=t[0],o=t[1],c=t[2],u=0,p=[];u<l.length;u++)r=l[u],i[r]&&p.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},s=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=o;s.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"039a":function(e,t,a){"use strict";var n=a("3760"),i=a.n(n);i.a},"0546":function(e,t,a){},"0927":function(e,t,a){},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},"2d25":function(e,t,a){"use strict";var n=a("0927"),i=a.n(n);i.a},3:function(e,t){},3004:function(e,t,a){"use strict";var n=a("0546"),i=a.n(n);i.a},3760:function(e,t,a){},4034:function(e,t,a){},"427b":function(e,t,a){"use strict";var n=a("4034"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],r={name:"App"},l=r,o=a("2877"),c=Object(o["a"])(l,i,s,!1,null,null,null),d=c.exports,u=a("5c96"),p=a.n(u),h=(a("0fae"),a("8c4f")),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("headers")],1)])},m=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"headers"}},[e._m(0),a("div",[a("el-menu",{staticClass:"el-menu",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"white","text-color":"black","active-text-color":"#00A4FF",router:""}},[a("el-menu-item",{attrs:{index:"/requirement"}},[e._v("测试需求")]),a("el-menu-item",{attrs:{index:"/run"}},[e._v("用例执行")]),a("el-menu-item",{attrs:{index:"/log"}},[e._v("日志管理")]),a("el-menu-item",{attrs:{index:"/job"}},[e._v("任务")])],1)],1)])},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("img",{staticClass:"title-img",attrs:{src:a("f773"),alt:""}}),n("span",{staticClass:"title-text"},[e._v("自动化测试平台")])])}],b={name:"headers",props:["activeIndex"],data:function(){return{}}},x=b,y=(a("3004"),Object(o["a"])(x,g,v,!1,null,null,null)),w=y.exports,C={name:"Home",components:{headers:w}},S=C,_=(a("2d25"),Object(o["a"])(S,f,m,!1,null,null,null)),k=_.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"login_form"},[n("img",{staticClass:"icon",attrs:{src:a("f773"),alt:""}}),n("div",{staticClass:"text"},[e._v("\n            自动化测试平台\n        ")]),n("div",{staticClass:"login_text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"username",attrs:{type:"text",placeholder:"用户名"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"password",attrs:{type:"text",placeholder:"密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("el-button",{staticClass:"login_btn",attrs:{type:"primary",round:"",loading:e.isBtnLoading},nativeOn:{click:function(t){return e.login(t)}}},[e._v("登录\n            ")])],1)])])},q=[],$={data:function(){return{userName:"",password:"",isBtnLoading:!1}},methods:{login:function(){this.$router.push({path:"/home"})}}},O=$,N=(a("039a"),Object(o["a"])(O,L,q,!1,null,null,null)),T=N.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("headers",{attrs:{activeIndex:"/requirement"}}),a("div",{attrs:{id:"detail"}},[a("el-tabs",{attrs:{id:"tabs"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"组件配置",name:"first"}},[a("div",{staticStyle:{"padding-left":"10px"}},[a("i",{staticClass:"el-icon-remove-outline",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-delete",staticStyle:{margin:"0",padding:"10px"}})]),a("el-table",{staticStyle:{"align-content":"center",width:"auto","font-size":"0.6vw",margin:"0","line-height":"0.6vw"},attrs:{data:e.scenesSets,border:"True","highlight-current-row":"",height:"500px","header-cell-style":{},"cell-style":{}}},[a("el-table-column",{attrs:{prop:"component_name",label:"组件名称"}})],1),a("div",{staticClass:"set_params"},[a("el-tabs",{on:{"tab-click":e.handleClick2},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[a("div",{staticStyle:{"padding-left":"10px"}},[a("i",{staticClass:"el-icon-remove-outline",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-delete",staticStyle:{margin:"0",padding:"10px"}})]),a("el-tab-pane",{attrs:{label:"数值传递",name:"first"}},[a("el-table",{staticStyle:{"align-content":"center",width:"auto","font-size":"0.6vw",margin:"0","line-height":"0.6vw"},attrs:{data:e.setIo,border:"True","highlight-current-row":"",height:"500px","header-cell-style":{},"cell-style":{}}},[a("el-table-column",{attrs:{prop:"name",label:"源数据","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"assign",label:"目标栏位","show-overflow-tooltip":!0}})],1)],1),a("el-tab-pane",{attrs:{label:"数值校验",name:"second"}},[e._v("\n                            配置管理\n                        ")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"用例数据",name:"second"}},[a("div",{staticStyle:{"padding-left":"10px"}},[a("i",{staticClass:"el-icon-remove-outline",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-delete",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-download",staticStyle:{margin:"0",padding:"10px"},on:{click:e.exportExcel}})]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.pictLoading,expression:"pictLoading"}],staticStyle:{"align-content":"center",width:"auto","font-size":"0.6vw",margin:"0","line-height":"0.6vw"},attrs:{id:"casesTableExcel",data:e.scenesCasesIo,border:"True",fit:"True",height:"500px","header-cell-style":{padding:0,margin:0,background:"white",color:"#2b303b"},"header-row-style":{}}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"用例名称",width:"300px","show-overflow-tooltip":!0}}),e._l(e.scenesSets,function(t,n){return a("el-table-column",{key:t,attrs:{label:t.component_name,align:"center","show-overflow-tooltip":!0}},e._l(e.scenesParams[n][t.component_name],function(e){return a("el-table-column",{key:e,attrs:{label:e.target_field,prop:"sequence_"+(n+1)+"_"+e.target_field,resizable:"True",width:"100px","show-overflow-tooltip":!0}})}),1)})],2),a("div",{staticClass:"block"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)],1)],1)],1)},P=[],z=a("21a6"),I=a.n(z),B=a("1146"),E=a.n(B),A={name:"Cases",components:{headers:w},data:function(){return{id:this.$route.query.rqid,scenesSets:[],scenesCases:[],scenesCasesIo:[],scenesParams:[],activeName:"first",activeName2:"first",pageSize:5,currentPage:1,pictLoading:!1,setIo:[]}},mounted:function(){this.getScenesSet(this.id),this.getSceneParams(this.id),this.getScenesCases(this.id),this.tableRowClassName(),this.getSceneCasesIo(this.id,this.currentPage,this.pageSize)},methods:{handleClick2:function(e){"数值传递"===e.label&&this.getSetIo(this.id,"3")},getScenesSet:function(e){var t=this;this.$axios.get(this.GLOBAL.httpUrl+"sceneDetail/",{params:{rqid:e}}).then(function(e){t.scenesSets=e.data})},getScenesCases:function(e){var t=this;this.$axios.get(this.GLOBAL.httpUrl+"cases/",{params:{rqid:e}}).then(function(e){t.scenesCases=e.data,t.total=t.scenesCases.length})},getSceneParams:function(e){var t=this;this.$axios.get(this.GLOBAL.httpUrl+"sceneParams/",{params:{rqid:e}}).then(function(e){t.scenesParams=e.data})},handleSizeChange:function(e){this.pageSize=e,this.getSceneCasesIo(this.id,this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.getSceneCasesIo(this.id,this.currentPage,this.pageSize)},tableRowClassName:function(){return"success-row"},getSceneCasesIo:function(e,t,a){var n=this;this.pictLoading=!0,this.$axios.get(this.GLOBAL.httpUrl+"sceneCasesIo/",{params:{rqid:e,currentPage:t,pageSize:a}}).then(function(e){n.scenesCasesIo=e.data,n.pictLoading=!1})},getSetIo:function(e,t){var a=this;this.$axios.get(this.GLOBAL.httpUrl+"sceneSetIo/",{params:{rqid:e,type:t}}).then(function(e){a.setIo=e.data})},exportExcel:function(){var e={raw:!0},t=E.a.utils.table_to_book(document.querySelector("#casesTableExcel"),e),a=E.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{I.a.saveAs(new Blob([a],{type:"application/octet-stream"}),"审核情况表.xlsx")}catch(n){}return a}}},D=A,G=(a("d96e"),Object(o["a"])(D,j,P,!1,null,null,null)),U=G.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("headers",{attrs:{activeIndex:"/requirement"}})],1),a("div",{attrs:{id:"Requirement"}},[a("el-container",{staticStyle:{"background-color":"white",height:"100%","min-height":"100vh"},attrs:{direction:"vertical"}},[a("el-container",[a("el-aside",{attrs:{id:"requirement-left"}},[a("div",{staticStyle:{"padding-left":"10px"}},[a("i",{staticClass:"el-icon-edit",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-share",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-delete",staticStyle:{margin:"0",padding:"10px"}})]),a("div",{attrs:{id:"req-tree"}},[a("el-tree",{ref:"tree",attrs:{lazy:"",load:e.loadNode,"node-key":"id","expand-on-click-node":!0},on:{"node-click":e.nodeClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("span",{staticClass:"tree-node",attrs:{title:n.name}},[a("span",[e._v(e._s(n.name))])])}}])})],1)]),a("el-main",{attrs:{id:"requirement-main"}},[a("div",{staticClass:"main_div"},[a("el-table",{staticStyle:{"align-content":"center",width:"auto","font-size":"0.6vw",margin:"0","line-height":"0.6vw"},attrs:{data:e.tableData,border:"","highlight-current-row":"",fit:"","header-cell-style":{padding:0,margin:0,background:"white",color:"#2b303b"},"row-style":{padding:0,margin:0,height:"10px"}}},[a("el-table-column",{attrs:{prop:"id",label:"场景ID"}}),a("el-table-column",{attrs:{prop:"scene_name",label:"场景名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleDetail(t.row)}}},[e._v("查看\n                                    ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                                    ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                                    ")])]}}])})],1)],1)])],1)],1)],1)])},M=[],K={components:{headers:w},name:"requirement",data:function(){return{tableData:[]}},methods:{loadNode:function(e,t){if(0===e.level){var a=this.GLOBAL.httpUrl+"req/";this.$axios.get(a,{}).then(function(e){return t(e.data)})}else this.getTreeChild(e.data.id,t)},getTreeChild:function(e,t){var a=this.GLOBAL.httpUrl+"req/";this.$axios.get(a,{params:{rqid:e}}).then(function(e){return t(e.data)})},nodeClick:function(e,t){var a=this,n=this.GLOBAL.httpUrl+"scene/";this.$axios.get(n,{params:{rqid:t.data.id}}).then(function(e){a.tableData=e.data})},handleDetail:function(e){var t=this.$router.resolve({path:"./cases",query:{rqid:e["id"]}}),a=t.href;window.open(a,"_blank")}}},F=K,H=(a("8fab"),Object(o["a"])(F,R,M,!1,null,null,null)),J=H.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("headers",{attrs:{activeIndex:"/run"}}),a("div",[a("el-container",{staticStyle:{"background-color":"white",height:"100%","min-height":"100vh"},attrs:{direction:"vertical"}},[a("el-container",[a("el-aside",[a("div",{staticStyle:{"padding-left":"10px"}},[a("i",{staticClass:"el-icon-edit",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-share",staticStyle:{margin:"0",padding:"10px"}}),a("i",{staticClass:"el-icon-delete",staticStyle:{margin:"0",padding:"10px"}})]),a("div",{staticClass:"req-tree"},[a("el-tree",{ref:"setTree",attrs:{lazy:"",load:e.loadSetNode,"node-key":"rqid","expand-on-click-node":!0},on:{"node-click":e.clickSetNode},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("span",{staticClass:"req-tree-node",attrs:{title:n.name}},[a("span",[e._v(e._s(n.name))])])}}])})],1)]),a("el-main",{attrs:{id:"run-main"}},[a("div",{attrs:{id:"run-main-ico"}},[a("Button",{attrs:{type:"primary"},on:{click:e.run}},[e._v("执行")]),a("Modal",{attrs:{title:"新建执行任务"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[a("div",{staticStyle:{padding:"10px",background:"#f8f8f9"}},[a("Card",{staticStyle:{width:"300px"},attrs:{title:"选择执行器",icon:"ios-options",padding:0,shadow:""}},[a("CellGroup",[a("Input",{attrs:{placeholder:"执行器IP"},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}}),a("br"),a("Input",{attrs:{placeholder:"端口"},model:{value:e.port,callback:function(t){e.port=t},expression:"port"}}),a("br")],1)],1)],1)])],1),a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.caseLoading,expression:"caseLoading",modifiers:{body:!0}}],staticClass:"set-tree-div"},[a("el-tree",{key:e.timer,ref:"reqTree",attrs:{id:"set-tree",props:e.setTreeProps,lazy:"",load:e.loadReqNode,"node-key":"set","expand-on-click-node":!0,"show-checkbox":""},on:{"node-expand":e.setTreeExpand,check:e.check},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("span",{staticClass:"set-tree-node",attrs:{title:n.name}},[a("span",[e._v(e._s(n.name))])])}}])})],1)])],1)],1)],1)],1)},Q=[],W={name:"run",components:{headers:w},data:function(){return{switchValue:!0,modal1:!1,getReqLeafRes:[],setData:"",caseLoading:!1,setTreeProps:{isLeaf:"leaf"},timer:"",ip:"",port:""}},methods:{run:function(){var e=this.$refs.reqTree.getCheckedNodes();if(0===e.length)this.$message({showClose:!0,message:"未选中测试用例",type:"warning"});else{this.modal1=!0;for(var t=[],a=e.length-1;a>=0;a--){var n=e[a];t.push(n["id"])}var i=this.GLOBAL.httpUrl+"casesToRun/";this.$axios.get(i,{params:{checkedCases:t+"",set:this.setData}}).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)})}},ok:function(){},cancel:function(){this.$Message.info("Clicked cancel")},loadSetNode:function(e,t){var a=this,n=this.GLOBAL.httpUrl+"set/";0===e.level?this.$axios.get(n,{params:{level:0}}).then(function(e){return t(e.data)}):this.$axios.get(n,{params:{level:1,id:e.data.id}}).then(function(n){if(0===n.data.length){var i=u["Loading"].service({fullscreen:!1,text:"加载测试集..."});e.isLeaf=!0,a.setData=e.data.set_id,a.timer=(new Date).getTime(),i.close()}return t(n.data)})},clickSetNode:function(e,t){if(t.isLeaf){var a=u["Loading"].service({fullscreen:!1,text:"加载测试集..."});this.setData=t.data.set_id,this.timer=(new Date).getTime(),a.close()}},loadReqNode:function(e,t){void 0!==this.$refs.reqTree&&(this.checkedKeys=this.$refs.reqTree.getCheckedKeys());var a=this.GLOBAL.httpUrl+"reqOfCase/";0===e.level?this.$axios.get(a,{params:{level:"0",set:this.setData,tier:""}}).then(function(e){return t(e.data)}).catch(function(e){console.log(e)}):this.$axios.get(a,{params:{level:e.level,set:this.setData,tier:e.data.tier}}).then(function(e){if(0===e.data.length)return t(e.data);if("000"===e.data[0].tier.slice(-3))for(var a=0;a<e.data.length;a++)e.data[a].leaf=!0;return t(e.data)}),void 0!==this.$refs.reqTree&&this.$refs.reqTree.setCheckedKeys(this.checkedKeys)},check:function(e,t){t.checkedNodes.length},setTreeExpand:function(e,t){t.expanded=!0;for(var a=t.childNodes,n=a.length-1;n>=0;n--);t.checked}}},X=W,Y=(a("427b"),Object(o["a"])(X,V,Q,!1,null,"742d7b23",null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("headers",{attrs:{activeIndex:"/log"}}),a("div")],1)},te=[],ae={name:"Log",components:{headers:w},return:{value1:!1}},ne=ae,ie=Object(o["a"])(ne,ee,te,!1,null,null,null),se=ie.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("headers",{attrs:{activeIndex:"/job"}}),a("el-card",{staticClass:"box-card"},[a("div",[a("el-progress",{attrs:{type:"circle",percentage:e.percentage}}),a("el-progress",{attrs:{type:"circle",percentage:25}}),a("el-progress",{attrs:{type:"circle",percentage:80,color:"#8e71c7"}}),a("el-progress",{attrs:{type:"circle",percentage:100,status:"success"}}),a("el-progress",{attrs:{type:"circle",percentage:50,status:"exception"}})],1)])],1)},le=[],oe={name:"job",components:{headers:w},data:function(){return{percentage:this.GLOBAL.jobPercentage[0]}}},ce=oe,de=Object(o["a"])(ce,re,le,!1,null,"6381e4ff",null),ue=de.exports,pe=h["a"].prototype.push;h["a"].prototype.push=function(e){return pe.call(this,e).catch(function(e){return e})},n["default"].use(h["a"]);var he,fe,me=new h["a"]({mode:"hash",routes:[{path:"/",name:"Login",component:T},{path:"/home",name:"Home",component:k},{path:"/cases",name:"Cases",component:U},{path:"/requirement",name:"requirement",component:J},{path:"/run",name:"run",component:Z},{path:"/log",name:"log",component:se},{path:"/job",name:"job",component:ue}]}),ge=a("e069"),ve=a.n(ge),be=(a("dcad"),a("bc3a")),xe=a.n(be),ye="http://10.1.160.162:8000/atf/",we=[],Ce={name:"global",httpUrl:ye,jobPercentage:we},Se=Ce,_e=Object(o["a"])(Se,he,fe,!1,null,"77f52e5a",null),ke=_e.exports;n["default"].config.productionTip=!1,n["default"].use(p.a),n["default"].use(ve.a),n["default"].prototype.$axios=xe.a,n["default"].prototype.GLOBAL=ke,new n["default"]({render:function(e){return e(d)},router:me}).$mount("#app")},"8fab":function(e,t,a){"use strict";var n=a("e5b8"),i=a.n(n);i.a},"9a79":function(e,t,a){},d96e:function(e,t,a){"use strict";var n=a("9a79"),i=a.n(n);i.a},e5b8:function(e,t,a){},f773:function(e,t,a){e.exports=a.p+"static/img/title.234cae8b.png"}});
//# sourceMappingURL=app.9a5dbff4.js.map